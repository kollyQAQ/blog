## 设置工作目录

工作目录就是我们用来存放开发的源代码的地方，对应的也是 Go 里的 GOPATH 这个环境变量。这个环境变量指定之后，我们编译源代码等生成的文件都会放到这个目录下，GOPATH 环境变量的配置参考上面的安装 Go，配置到 / etc/profile 或者 Windows 下的系统变量里。
这个工作目录我们可以根据自己的设置指定，比如我的 Mac 在 $HOME/code/go 下，Window 的可以放到 d:\code\go 下等。该目录下有 3 个子目录，他们分别是：

```
.
├── bin
├── pkg
└── src
```

- bin 文件夹存放 go install 命名生成的可执行文件，可以把 GOPATH/bin 路径加入到 PATH 环境变量里，就和我们上面配置的
- GOPATH/bin 路径加入到 PATH 环境变量里，就和我们上面配置的 GOROOT/bin 一样，这样就可以直接在终端里使用我们 go 开发生成的程序了。
- pkg 文件夹是存在 go 编译生成的文件。
- src 存放的是我们的 go 源代码，不同工程项目的代码以包名区分。

## 安装程序

安装的意思，就是生成可执行的程序，以供我们使用，为此 go 为我们提供了很方便的 install 命令，可以快速的把我们的程序安装到 $GOAPTH/bin 目录下。

```
go install flysnow.org/hello
```

打开终端，运行上面的命令即可，install 后跟全路径的包名。 然后我们在终端里运行 hello 就看到打印的 Hello World 了。

```
➜  ~ hello
Hello World
```

## 平台编译

以前运行和安装，都是默认根据我们当前的机器生成的可执行文件，比如你的是 Linux 64 位，就会生成 Linux 64 位下的可执行文件，比如我的 Mac，可以使用 go env 查看编译环境, 以下截取重要的部分。

```
➜  ~ go env
GOARCH="amd64"
GOEXE=""
GOHOSTARCH="amd64"
GOHOSTOS="darwin"
GOOS="darwin"
GOROOT="/usr/local/go"
GOTOOLDIR="/usr/local/go/pkg/tool/darwin_amd64"
```

注意里面两个重要的环境变量 GOOS 和 GOARCH, 其中 GOOS 指的是目标操作系统，它的可用值为：

1. darwin
2. freebsd
3. linux
4. windows
5. android
6. dragonfly
7. netbsd
8. openbsd
9. plan9
10. solaris

一共支持 10 种操作系统。GOARCH 指的是目标处理器的架构，目前支持的有：

1. arm
2. arm64
3. 386
4. amd64
5. ppc64
6. ppc64le
7. mips64
8. mips64le
9. s390x

一共支持 9 中处理器的架构，GOOS 和 GOARCH 组合起来，支持生成的可执行程序种类很多，具体组合参考https://golang.org/doc/install/source#environment。如果我们要生成不同平台架构的可执行程序，只要改变这两个环境变量就可以了，比如要生成 linux 64 位的程序，命令如下：
```
GOOS=linux GOARCH=amd64 go build flysnow.org/hello
```
前面两个赋值，是更改环境变量，**这样的好处是只针对本次运行有效**，不会更改我们默认的配置。